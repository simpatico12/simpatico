# ===============================================================================
# 🏆 전설적 퀸트프로젝트 4가지 전략 통합 환경변수 설정
# ===============================================================================
# 
# 📋 전략 구성:
# 1. 🇺🇸 미국주식 전략 (us_strategy.py) - IBKR 연동
# 2. 🇯🇵 일본주식 전략 (jp_strategy.py) - IBKR 연동  
# 3. 🇮🇳 인도주식 전략 (inda_strategy.py) - IBKR 연동
# 4. 🪙 가상화폐 전략 (coin_strategy.py) - 업비트 연동
#
# 🔧 사용법:
# 1. 이 파일을 .env로 복사
# 2. 각 전략별 필요한 API 키 입력
# 3. 전략별 설정 조정
# 4. 안전장치 설정 확인
#
# ===============================================================================

# ===============================================================================
# 🇺🇸 미국주식 전략 설정 (us_strategy.py) - IBKR
# ===============================================================================

# IBKR API 설정 (미국 주식)
IBKR_HOST_US=127.0.0.1
IBKR_PORT_US=7497
IBKR_CLIENT_ID_US=1
IBKR_ACCOUNT_US=YOUR_US_ACCOUNT_ID

# 미국 전략 설정
US_STRATEGY_ENABLED=true
US_STRATEGY_MODE=swing
US_TARGET_MONTHLY_RETURN=6.0
US_PORTFOLIO_SIZE=1000000
US_MAX_POSITIONS=8
US_STOP_LOSS_PCT=8.0
US_TAKE_PROFIT_1=6.0
US_TAKE_PROFIT_2=12.0

# 미국 매매 스케줄
US_MORNING_SCAN_TIME=09:00
US_EVENING_REPORT_TIME=16:00
US_TRADING_ENABLED=true

# ===============================================================================
# 🇯🇵 일본주식 전략 설정 (jp_strategy.py) - IBKR
# ===============================================================================

# IBKR API 설정 (일본 주식)
IBKR_HOST_JP=127.0.0.1
IBKR_PORT_JP=7498
IBKR_CLIENT_ID_JP=2
IBKR_ACCOUNT_JP=YOUR_JP_ACCOUNT_ID

# 일본 전략 설정 (화목 하이브리드)
JP_STRATEGY_ENABLED=true
JP_MONTHLY_TARGET=14.0
JP_PORTFOLIO_SIZE=1000000
JP_MAX_TUESDAY_TRADES=2
JP_MAX_THURSDAY_TRADES=3
JP_TUESDAY_MAX_HOLD=5
JP_THURSDAY_MAX_HOLD=2

# 일본 엔화 임계값
JP_YEN_STRONG=105.0
JP_YEN_WEAK=110.0

# 일본 익절/손절 설정
JP_TUESDAY_TAKE_PROFIT_1=4.0
JP_TUESDAY_TAKE_PROFIT_2=7.0
JP_TUESDAY_TAKE_PROFIT_3=12.0
JP_TUESDAY_STOP_LOSS=3.0

JP_THURSDAY_TAKE_PROFIT_1=1.5
JP_THURSDAY_TAKE_PROFIT_2=3.0
JP_THURSDAY_TAKE_PROFIT_3=5.0
JP_THURSDAY_STOP_LOSS=2.0

# ===============================================================================
# 🇮🇳 인도주식 전략 설정 (inda_strategy.py) - IBKR
# ===============================================================================

# IBKR API 설정 (인도 주식)
IBKR_HOST_IN=127.0.0.1
IBKR_PORT_IN=7499
IBKR_CLIENT_ID_IN=3
IBKR_ACCOUNT_IN=YOUR_IN_ACCOUNT_ID

# 인도 전략 설정 (수요일 전용 안정형)
INDIA_STRATEGY_ENABLED=true
INDIA_MONTHLY_TARGET=6.0
INDIA_PORTFOLIO_SIZE=1000000
INDIA_MAX_STOCKS=4
INDIA_WEDNESDAY_ONLY=true

# 인도 안정형 손익절 설정
INDIA_NIFTY50_STOP_LOSS=3.0
INDIA_NIFTY50_TAKE_PROFIT=6.0
INDIA_SENSEX_STOP_LOSS=3.0
INDIA_SENSEX_TAKE_PROFIT=6.0
INDIA_NEXT50_STOP_LOSS=4.0
INDIA_NEXT50_TAKE_PROFIT=8.0
INDIA_SMALLCAP_STOP_LOSS=5.0
INDIA_SMALLCAP_TAKE_PROFIT=10.0

# ===============================================================================
# 🪙 가상화폐 전략 설정 (coin_strategy.py) - 업비트
# ===============================================================================

# 업비트 API 설정
UPBIT_ACCESS_KEY=YOUR_UPBIT_ACCESS_KEY
UPBIT_SECRET_KEY=YOUR_UPBIT_SECRET_KEY

# 가상화폐 전략 설정 (월금 매매)
CRYPTO_STRATEGY_ENABLED=true
CRYPTO_MONTHLY_TARGET=6.0
CRYPTO_PORTFOLIO_SIZE=100000000
CRYPTO_MIN_VOLUME=5000000000
CRYPTO_MAX_POSITIONS=8

# 가상화폐 손익절 설정 (품질별 차등)
CRYPTO_HIGH_QUALITY_STOP_LOSS=5.0
CRYPTO_HIGH_QUALITY_TP0=6.0
CRYPTO_HIGH_QUALITY_TP1=15.0
CRYPTO_HIGH_QUALITY_TP2=25.0

CRYPTO_MID_QUALITY_STOP_LOSS=7.0
CRYPTO_MID_QUALITY_TP0=5.0
CRYPTO_MID_QUALITY_TP1=12.0
CRYPTO_MID_QUALITY_TP2=20.0

CRYPTO_LOW_QUALITY_STOP_LOSS=8.0
CRYPTO_LOW_QUALITY_TP0=4.0
CRYPTO_LOW_QUALITY_TP1=10.0
CRYPTO_LOW_QUALITY_TP2=15.0

# 가상화폐 매매 스케줄 (월금 매매)
CRYPTO_MONDAY_BUY=true
CRYPTO_FRIDAY_SELL=true
CRYPTO_EMERGENCY_SELL=true

# ===============================================================================
# 🔗 공통 IBKR 설정
# ===============================================================================

# IBKR 공통 설정
IBKR_PAPER_TRADING=true
IBKR_TIMEOUT=30
IBKR_RETRY_COUNT=3
IBKR_RETRY_DELAY=5

# IBKR 안전장치
IBKR_MAX_DAILY_TRADES=50
IBKR_MAX_DAILY_LOSS_USD=5000
IBKR_MAX_POSITION_SIZE_PCT=15.0

# ===============================================================================
# 🚨 네트워크 연결 장애 대응 안전장치
# ===============================================================================

# 네트워크 장애시 전량매도 시스템
NETWORK_FAILSAFE_ENABLED=true
NETWORK_CHECK_INTERVAL=60
NETWORK_TIMEOUT_THRESHOLD=300
NETWORK_RETRY_COUNT=5

# 연결 장애시 대응 모드
# panic_sell: 즉시 전량 시장가 매도
# conservative_sell: 손익 고려한 단계적 매도  
# hold_and_wait: 연결 복구까지 대기
# disable_trading: 신규 거래만 중단
NETWORK_FAILSAFE_MODE=conservative_sell

# 네트워크 상태 체크 URL들
NETWORK_CHECK_URLS=https://api.upbit.com/v1/market/all,https://www.google.com,https://api.binance.com/api/v3/ping

# 연결 장애 알림 설정
NETWORK_ALERT_ENABLED=true
NETWORK_CRITICAL_LOSS_THRESHOLD=10000

# 수동 제어 (긴급시 파일 생성으로 제어)
# 파일 존재시 해당 기능 활성화
EMERGENCY_SELL_ALL_FILE=emergency_sell_all.flag
EMERGENCY_STOP_TRADING_FILE=emergency_stop_trading.flag
EMERGENCY_ENABLE_TRADING_FILE=emergency_enable_trading.flag

# ===============================================================================
# 📱 알림 시스템 (텔레그램)
# ===============================================================================

# 텔레그램 봇 설정
TELEGRAM_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
TELEGRAM_CHAT_ID=YOUR_TELEGRAM_CHAT_ID
TELEGRAM_ENABLED=true

# 알림 레벨 설정
TELEGRAM_ALERT_LEVEL=info
TELEGRAM_TRADE_ALERTS=true
TELEGRAM_ERROR_ALERTS=true
TELEGRAM_DAILY_REPORT=true
TELEGRAM_EMERGENCY_ALERTS=true

# ===============================================================================
# 📧 이메일 알림 (선택사항)
# ===============================================================================

# Gmail SMTP 설정
EMAIL_ENABLED=false
EMAIL_SMTP_SERVER=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=your_email@gmail.com
EMAIL_PASSWORD=your_app_password
EMAIL_RECIPIENT=recipient@gmail.com

# ===============================================================================
# 📊 데이터베이스 설정
# ===============================================================================

# SQLite 데이터베이스 파일들
US_DATABASE_FILE=data/us_strategy.db
JP_DATABASE_FILE=data/jp_strategy.db
INDIA_DATABASE_FILE=data/india_strategy.db
CRYPTO_DATABASE_FILE=data/crypto_strategy.db

# 통합 성과 데이터베이스
MASTER_DATABASE_FILE=data/legendary_performance.db

# 데이터 백업 설정
AUTO_BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=30
BACKUP_DIRECTORY=backups

# ===============================================================================
# 🛡️ 전략별 리스크 관리
# ===============================================================================

# 전체 포트폴리오 리스크 한도
TOTAL_PORTFOLIO_VALUE=10000000
TOTAL_MAX_DAILY_LOSS_PCT=2.0
TOTAL_MAX_MONTHLY_LOSS_PCT=5.0

# 전략별 자금 배분 (%)
US_STRATEGY_ALLOCATION=30.0
JP_STRATEGY_ALLOCATION=25.0
INDIA_STRATEGY_ALLOCATION=20.0
CRYPTO_STRATEGY_ALLOCATION=25.0

# 자동 리밸런싱
AUTO_REBALANCE_ENABLED=true
REBALANCE_THRESHOLD_PCT=5.0
REBALANCE_FREQUENCY_DAYS=7

# ===============================================================================
# 🔄 자동화 설정
# ===============================================================================

# 전략별 실행 스케줄
US_AUTO_TRADING_ENABLED=true
US_TRADING_HOURS=09:30-16:00
US_TRADING_TIMEZONE=America/New_York

JP_AUTO_TRADING_ENABLED=true
JP_TRADING_DAYS=Tuesday,Thursday
JP_TRADING_TIMEZONE=Asia/Tokyo

INDIA_AUTO_TRADING_ENABLED=true
INDIA_TRADING_DAYS=Wednesday
INDIA_TRADING_TIMEZONE=Asia/Kolkata

CRYPTO_AUTO_TRADING_ENABLED=true
CRYPTO_TRADING_DAYS=Monday,Friday
CRYPTO_TRADING_TIMEZONE=Asia/Seoul

# 주말/공휴일 자동 중단
WEEKEND_SHUTDOWN=true
HOLIDAY_SHUTDOWN=true

# ===============================================================================
# 🔍 모니터링 설정
# ===============================================================================

# 실시간 모니터링 간격 (초)
MONITORING_INTERVAL=180
POSITION_CHECK_INTERVAL=60
PRICE_UPDATE_INTERVAL=30

# 성과 리포팅
DAILY_REPORT_TIME=18:00
WEEKLY_REPORT_DAY=Sunday
MONTHLY_REPORT_DAY=1

# 로깅 설정
LOG_LEVEL=INFO
LOG_FILE_SIZE_MB=100
LOG_BACKUP_COUNT=10

# ===============================================================================
# 🧪 개발/테스트 설정
# ===============================================================================

# 개발 모드 (실제 거래 없이 시뮬레이션)
DEVELOPMENT_MODE=true
SIMULATION_STARTING_BALANCE=10000000

# 백테스팅 설정
BACKTEST_ENABLED=false
BACKTEST_START_DATE=2023-01-01
BACKTEST_END_DATE=2024-12-31

# API 제한 설정
API_RATE_LIMIT_ENABLED=true
API_CALLS_PER_MINUTE=100

# ===============================================================================
# 🚀 고급 설정
# ===============================================================================

# 인공지능 신호 강도 조절
AI_CONFIDENCE_THRESHOLD=0.7
AI_SIGNAL_WEIGHT=0.3

# 시장 상황별 자동 조절
BEAR_MARKET_MODE=false
BULL_MARKET_MODE=false
SIDEWAYS_MARKET_MODE=true

# 변동성 기반 포지션 조절
VOLATILITY_ADJUSTMENT=true
HIGH_VOLATILITY_THRESHOLD=0.3
LOW_VOLATILITY_THRESHOLD=0.1

# ===============================================================================
# 📋 설정 완료 체크리스트
# ===============================================================================
#
# ✅ 체크리스트:
# [ ] IBKR 계정 3개 설정 (미국/일본/인도)
# [ ] 업비트 API 키 발급
# [ ] 텔레그램 봇 생성 및 토큰 발급
# [ ] 각 전략별 포트폴리오 크기 설정
# [ ] 리스크 한도 설정 확인
# [ ] 네트워크 안전장치 테스트
# [ ] 알림 시스템 테스트
# [ ] 백업 디렉토리 생성
# [ ] 로그 디렉토리 생성
# [ ] 시뮬레이션 모드로 첫 테스트
#
# 🚨 중요 보안 주의사항:
# - 이 파일을 git에 커밋하지 마세요 (.gitignore 추가)
# - API 키는 읽기 전용 권한 권장
# - 정기적으로 API 키 갱신
# - 2FA 인증 필수 설정
#
# ===============================================================================
