# ================================================================================================
# 🏆 퀸트프로젝트 통합 설정 파일 (settings.yaml)
# ================================================================================================
# 🇺🇸 미국주식 + 🇯🇵 일본주식 + 🇮🇳 인도주식 + 💰 암호화폐 (4대 전략 통합)
# 
# 사용법:
# 1. 필요한 전략만 enabled: true로 설정
# 2. API 키 및 민감 정보는 .env 파일에 저장
# 3. 각 전략별 세부 설정 조정
# 4. 백테스팅 먼저 실행 후 실거래 적용

# ================================================================================================
# 🌟 전체 시스템 설정
# ================================================================================================
system:
  version: "6.3.0"
  environment: "production"  # development, staging, production
  debug_mode: false
  log_level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  timezone: "Asia/Seoul"
  
  # 데이터 저장 경로
  data_directory: "./data"
  log_directory: "./logs"
  backup_directory: "./backups"
  
  # 성능 설정
  max_workers: 4
  api_timeout: 30
  retry_count: 3
  cache_duration: 3600  # 1시간

# ================================================================================================
# 🇺🇸 미국 주식 전략 설정 (legendary_quant_v63.py)
# ================================================================================================
us_strategy:
  enabled: true
  name: "전설적퀸트 V6.3"
  description: "월5-7% 달성형 주2회 화목 매매 시스템"
  
  # 기본 설정
  mode: "swing"  # swing, classic, hybrid
  target_stocks:
    classic: 20
    swing: 8
  
  # 월간 목표
  monthly_target:
    min: 5.0  # 5%
    max: 7.0  # 7%
  
  # 4가지 투자전략 가중치
  strategy_weights:
    buffett: 25.0    # 버핏 가치투자
    lynch: 25.0      # 린치 성장투자
    momentum: 25.0   # 모멘텀 전략
    technical: 25.0  # 기술적 분석
  
  # VIX 임계값
  vix_thresholds:
    low: 15.0   # 저변동성
    high: 30.0  # 고변동성
  
  # 거래 설정 (월5-7% 최적화)
  trading:
    swing:
      take_profit: [6.0, 12.0]  # 1차, 2차 익절
      profit_ratios: [60.0, 40.0]  # 매도 비율
      stop_loss: 8.0
    classic:
      take_profit: [20.0, 35.0]
      stop_loss: 15.0
    
    # 주2회 화목 매매 시스템
    weekly:
      enabled: true
      tuesday_targets: 4
      thursday_targets: 2
      tuesday_allocation: 12.5  # %
      thursday_allocation: 8.0  # %
      profit_taking_threshold: 8.0
      loss_cutting_threshold: -6.0
      tuesday_time: "10:30"
      thursday_time: "10:30"
  
  # 리스크 관리
  risk:
    max_position: 15.0          # 개별 종목 최대 비중 (%)
    daily_loss_limit: 1.0       # 일일 손실 한도 (%)
    monthly_loss_limit: 3.0     # 월간 손실 한도 (%)
    weekly_loss_limit: 3.0      # 주간 손실 한도 (%)
    trailing_stop: true
  
  # 종목 선별 기준
  selection:
    min_market_cap: 5000000000  # 50억달러
    min_volume: 1000000         # 100만주
    excluded_symbols: ["SPXL", "TQQQ", "SQQQ"]
    refresh_hours: 24

# ================================================================================================
# 🇯🇵 일본 주식 전략 설정 (jp_strategy.py)
# ================================================================================================
japan_strategy:
  enabled: true
  name: "YEN-HUNTER v2.0 HYBRID"
  description: "화목 하이브리드 + 엔화 연동 + 3차 익절"
  
  # 엔화 임계값
  yen_thresholds:
    strong: 105.0   # 엔화 강세
    weak: 110.0     # 엔화 약세
  
  # 월간 목표
  monthly_target: 0.14    # 14%
  monthly_safe: 0.10      # 10% (안전선)
  monthly_limit: -0.05    # -5% (손실 한도)
  
  # 화목 하이브리드 스케줄
  trading_schedule:
    trading_days: [1, 3]     # 화요일(1), 목요일(3)
    tuesday_max_hold: 5      # 화요일 최대 보유일
    thursday_max_hold: 2     # 목요일 최대 보유일
    max_tuesday_trades: 2    # 화요일 최대 거래
    max_thursday_trades: 3   # 목요일 최대 거래
  
  # 매수 임계값
  buy_thresholds:
    tuesday: 0.75   # 화요일 매수 임계값
    thursday: 0.65  # 목요일 매수 임계값
  
  # 종목 선별
  selection:
    min_market_cap: 500000000000  # 5000억엔
    target_stocks: 15
    
    # 3개 지수 통합 헌팅
    indices:
      nikkei225: true
      topix: true
      jpx400: true
  
  # 기술지표 (6개 핵심)
  indicators:
    rsi_period: 14
    macd_fast: 12
    macd_slow: 26
    macd_signal: 9
    bollinger_period: 20
    bollinger_std: 2.0
    stochastic_k: 14
    stochastic_d: 3
    atr_period: 14
    volume_period: 20

# ================================================================================================
# 🇮🇳 인도 주식 전략 설정 (inda_strategy.py)
# ================================================================================================
india_strategy:
  enabled: true
  name: "인도 전설 투자전략"
  description: "5대 투자 거장 + 수요일 전용 월5-7% 안정형"
  
  # 수요일 전용 매매
  trading_schedule:
    wednesday_only: true
    max_stocks: 4
    max_investment_per_stock: 0.20  # 20%
  
  # 월간 목표 (안정형)
  monthly_target:
    min: 5.0   # 5%
    max: 7.0   # 7%
    safe: 4.0  # 4% (안전선)
  
  # 지수별 안정형 손익절 설정
  stop_loss_by_index:
    nifty50: 0.03   # -3%
    sensex: 0.03    # -3%
    next50: 0.04    # -4%
    smallcap: 0.05  # -5%
  
  take_profit_by_index:
    nifty50: 0.06   # +6%
    sensex: 0.06    # +6%
    next50: 0.08    # +8%
    smallcap: 0.10  # +10%
  
  # 5대 전설 투자자 전략 가중치
  legend_strategies:
    rakesh_jhunjhunwala: 0.25    # 준준왈라 (워런 버핏 킬러)
    raamdeo_agrawal_qglp: 0.25   # QGLP 진화 전략
    vijay_kedia_smile: 0.20      # SMILE 투자법
    porinju_veliyath: 0.15       # 콘트라리안 마스터
    nitin_karnik_infra: 0.15     # 인프라 제왕
  
  # 선별 기준 (엄격)
  selection:
    min_score: 20               # 최소 점수
    min_market_cap: 50000       # 500억루피
    max_debt_to_equity: 1.0     # 부채비율
    min_roe: 10                 # 최소 ROE
    stability_filter: true

# ================================================================================================
# 💰 암호화폐 전략 설정 (coin_strategy.py)
# ================================================================================================
crypto_strategy:
  enabled: true
  name: "LEGENDARY QUANT STRATEGY COMPLETE"
  description: "월5-7% 최적화 + 5대 전설급 시스템"
  
  # 기본 설정
  portfolio_value: 100000000    # 1억원
  min_volume: 5000000000       # 50억원
  target_portfolio_size: 8
  demo_mode: true              # 시뮬레이션 모드
  
  # 월5-7% 최적화 설정
  monthly_optimization:
    target_min: 5.0   # 5%
    target_max: 7.0   # 7%
    
    # 0차 익절 추가
    take_profit_0: [4, 5, 6]     # 4-6% 구간
    take_profit_1: [10, 12, 15]  # 1차 익절
    take_profit_2: [15, 20, 25]  # 2차 익절
    # 3차 익절 삭제 (무제한 홀딩)
    
    # 타이트한 손절
    stop_loss:
      high_quality: 5   # -5% (BTC, ETH급)
      mid_quality: 7    # -7%
      low_quality: 8    # -8%
  
  # 월금 매매 시스템
  trading_schedule:
    monday_buy: true      # 월요일 매수
    friday_sell: true     # 금요일 매도
    emergency_sell: true  # 응급 매도 허용
  
  # 3단계 분할 진입
  stage_allocation:
    stage1_ratio: 0.40   # 40%
    stage2_ratio: 0.35   # 35% 
    stage3_ratio: 0.25   # 25%
  
  # 5대 전설급 엔진 설정
  engines:
    neural_quality:
      enabled: true
      weights: [0.30, 0.30, 0.20, 0.20]  # 기술력, 생태계, 커뮤니티, 채택도
    
    quantum_cycle:
      enabled: true
      confidence_threshold: 0.7
    
    fractal_filtering:
      enabled: true
      volume_cv_threshold: 2.0      # 거래량 변동계수
      price_cv_threshold: 0.3       # 가격 변동계수
    
    diamond_hand:
      enabled: true
      max_kelly_fraction: 0.25      # 최대 켈리 비율
    
    exit_strategy:
      enabled: true
      trailing_stop_ratio: 0.10     # 10% 트레일링 스톱
      max_holding_days: 14          # 최대 보유 14일

# ================================================================================================
# 🔗 브로커 API 설정
# ================================================================================================
brokers:
  ibkr:
    enabled: true
    host: "127.0.0.1"
    port: 7497              # 7497 (live), 7496 (paper)
    client_id: 1
    paper_trading: true
    max_daily_trades: 20
    timeout: 30
    
    # 지역별 설정
    regions:
      us: 
        exchange: "SMART"
        currency: "USD"
      japan:
        exchange: "TSE"
        currency: "JPY"
      india:
        exchange: "NSE"
        currency: "INR"
  
  upbit:
    enabled: true
    demo_mode: true
    rate_limit: 100         # requests per minute
    timeout: 10

# ================================================================================================
# 📱 알림 시스템 설정
# ================================================================================================
notifications:
  telegram:
    enabled: true
    # API 키는 .env 파일에 설정
    # TELEGRAM_BOT_TOKEN=your_bot_token
    # TELEGRAM_CHAT_ID=your_chat_id
    
    # 알림 레벨
    levels:
      trade_execution: true     # 거래 실행 알림
      profit_loss: true        # 손익 알림
      risk_warning: true       # 리스크 경고
      daily_summary: true      # 일일 요약
      weekly_summary: true     # 주간 요약
      monthly_summary: true    # 월간 요약
  
  email:
    enabled: false
    smtp_server: "smtp.gmail.com"
    smtp_port: 587
    # 인증 정보는 .env 파일에 설정
    
  slack:
    enabled: false
    # 웹훅 URL은 .env 파일에 설정

# ================================================================================================
# 📊 모니터링 및 로깅
# ================================================================================================
monitoring:
  real_time:
    enabled: true
    check_interval: 180      # 3분마다
    position_tracking: true
    risk_monitoring: true
  
  performance:
    daily_report: true
    weekly_report: true  
    monthly_report: true
    
    # 성과 메트릭
    metrics:
      return_calculation: true
      sharpe_ratio: true
      max_drawdown: true
      win_rate: true
      profit_factor: true
  
  logging:
    level: "INFO"
    file_rotation: "daily"
    retention_days: 30
    
    # 로그 카테고리
    categories:
      trading: true
      analysis: true
      errors: true
      performance: true

# ================================================================================================
# 🛡️ 리스크 관리 (통합)
# ================================================================================================
risk_management:
  global:
    max_portfolio_risk: 0.05        # 5%
    emergency_stop_enabled: true
    correlation_limit: 0.7          # 상관관계 한도
  
  position_sizing:
    max_position_size: 0.20         # 개별 포지션 최대 20%
    concentration_limit: 0.60       # 섹터 집중도 한도
    
  drawdown_protection:
    max_daily_drawdown: 0.02        # 2%
    max_weekly_drawdown: 0.05       # 5%
    max_monthly_drawdown: 0.10      # 10%
  
  network_monitoring:
    enabled: true
    check_interval: 30              # 30초마다
    timeout: 10
    retry_count: 3
    
    # 네트워크 끊김 시 대응
    disconnect_action: "hold"       # hold, sell_all, partial_sell
    grace_period: 300               # 5분

# ================================================================================================
# 📈 백테스팅 설정
# ================================================================================================
backtesting:
  enabled: true
  
  # 테스트 기간
  periods:
    short: "3mo"     # 3개월
    medium: "1y"     # 1년
    long: "3y"       # 3년
  
  # 테스트 설정
  initial_capital: 100000000    # 1억원
  commission: 0.0025           # 0.25%
  slippage: 0.001             # 0.1%
  
  # 결과 저장
  save_results: true
  output_format: ["json", "csv", "html"]

# ================================================================================================
# 🔄 자동화 스케줄
# ================================================================================================
automation:
  scheduling:
    enabled: true
    timezone: "Asia/Seoul"
    
    # 전략별 실행 스케줄 (cron 형식)
    schedules:
      us_strategy: "0 10 * * 1,4"      # 월,목 10시
      japan_strategy: "30 9 * * 1,3"   # 월,수 9시30분  
      india_strategy: "0 9 * * 2"      # 화 9시
      crypto_strategy: "0 9 * * 0,4"   # 일,목 9시
  
  startup:
    auto_start_monitoring: true
    load_positions: true
    check_market_hours: true
    validate_connections: true

# ================================================================================================
# 🗄️ 데이터베이스 설정
# ================================================================================================
database:
  type: "sqlite"              # sqlite, postgresql, mysql
  
  sqlite:
    file_path: "./data/quint_project.db"
    backup_enabled: true
    backup_interval: "daily"
  
  # PostgreSQL 설정 (고급 사용자용)
  postgresql:
    enabled: false
    host: "localhost"
    port: 5432
    database: "quint_project"
    # 인증 정보는 .env 파일에 설정
  
  tables:
    trades: true
    positions: true
    performance: true
    signals: true
    market_data: true

# ================================================================================================
# 🌐 웹 인터페이스 (선택사항)
# ================================================================================================
web_interface:
  enabled: false
  framework: "streamlit"       # streamlit, flask, fastapi
  
  streamlit:
    port: 8501
    auto_open: true
    
  features:
    dashboard: true
    real_time_charts: true
    position_management: true
    strategy_comparison: true
    risk_analytics: true

# ================================================================================================
# 🔧 개발자 설정
# ================================================================================================
development:
  debug_mode: false
  profiling: false
  testing: false
  
  # 개발 도구
  tools:
    jupyter_integration: false
    pytest: false
    black_formatting: false
    
  # 실험적 기능
  experimental:
    ai_suggestions: false
    sentiment_analysis: false
    news_integration: false

# ================================================================================================
# 📱 모바일 최적화 (미래 확장)
# ================================================================================================
mobile:
  enabled: false
  push_notifications: false
  
  features:
    quick_actions: false
    voice_commands: false
    biometric_auth: false

# ================================================================================================
# 🎯 전략별 우선순위
# ================================================================================================
strategy_priorities:
  # 1=최고 우선순위
  execution_order:
    us_strategy: 1
    japan_strategy: 2  
    crypto_strategy: 3
    india_strategy: 4
  
  # 자원 배분 비율
  resource_allocation:
    us_strategy: 0.40      # 40%
    japan_strategy: 0.25   # 25%
    crypto_strategy: 0.20  # 20%
    india_strategy: 0.15   # 15%

# ================================================================================================
# 🏁 마무리 설정
# ================================================================================================
meta:
  config_version: "1.0.0"
  created_date: "2024-12-28"
  last_modified: "2024-12-28"
  
  description: |
    퀸트프로젝트 4대 전략 통합 설정 파일
    - 🇺🇸 미국주식: 전설적퀸트 V6.3 (월5-7%)
    - 🇯🇵 일본주식: YEN-HUNTER v2.0 (월14%)
    - 🇮🇳 인도주식: 전설 5인방 (월5-7%)
    - 💰 암호화폐: 전설급 5대 시스템 (월5-7%)
  
  notes: |
    1. API 키는 반드시 .env 파일에 저장
    2. 백테스팅 먼저 실행 후 실거래 적용
    3. 리스크 관리 설정을 본인 성향에 맞게 조정
    4. 필요한 전략만 enabled: true로 설정
    5. 정기적인 성과 리뷰 및 설정 최적화 권장
  
  support:
    documentation: "README.md"
    examples: "./examples/"
    troubleshooting: "./docs/troubleshooting.md"

# ================================================================================================
# 🎊 축하합니다!
# ================================================================================================
# 이제 퀸트프로젝트의 모든 전략을 통합 관리할 수 있습니다!
# 
# 다음 단계:
# 1. .env 파일에 API 키 설정
# 2. 필요한 전략 enabled: true 설정  
# 3. 백테스팅으로 전략 검증
# 4. 시뮬레이션 모드로 안정성 확인
# 5. 실거래 단계적 적용
# 
# 🚀 월 5-7% 목표 달성을 위해 파이팅!
